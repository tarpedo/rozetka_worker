parameters:

services:
    _defaults:
        autowire: true
        autoconfigure: true
    App\:
        resource: '../src/'
        exclude:
            - '../src/Kernel.php'

    App\Kernel\FileStorage\EngineInterface:
        factory: ['@App\Kernel\FileStorage\EngineFactory', 'create']
    App\Kernel\FileStorage\EngineFactory:
        arguments:
            $engine: '%env(FILE_STORAGE_ENGINE)%'

    App\Kernel\FoldersStructure:
        arguments:
            $projectDir: '%kernel.project_dir%'
